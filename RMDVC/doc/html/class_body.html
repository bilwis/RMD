<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Rogue M.D.: Body Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rogue M.D.
   &#160;<span id="projectnumber">prealpha</span>
   </div>
   <div id="projectbrief">A roguelike (eventually...) with a strong focus on a detailed injury system.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_body.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_body-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Body Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The code representation of a body of an <a class="el" href="class_actor.html">Actor</a>.  
 <a href="class_body.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_body_8hpp_source.html">Body.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2cda9c6f52963f15e85822bc2cbd4a1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a2cda9c6f52963f15e85822bc2cbd4a1a">Body</a> (const char *filename)</td></tr>
<tr class="separator:a2cda9c6f52963f15e85822bc2cbd4a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9567776622f213ee69c13a94f72c4b9"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_body_part.html">BodyPart</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#ad9567776622f213ee69c13a94f72c4b9">getRootBP</a> ()</td></tr>
<tr class="separator:ad9567776622f213ee69c13a94f72c4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b5d3bd75fe06d7801db97b8ae7d283"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a18b5d3bd75fe06d7801db97b8ae7d283">removePart</a> (std::string part_uuid)</td></tr>
<tr class="separator:a18b5d3bd75fe06d7801db97b8ae7d283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef433b1d7299f8111b2d69cf00843ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a7ef433b1d7299f8111b2d69cf00843ab">removeParts</a> (std::vector&lt; string &gt; *part_uuids)</td></tr>
<tr class="separator:a7ef433b1d7299f8111b2d69cf00843ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5d3db270848d3de8530a59353312a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#aef5d3db270848d3de8530a59353312a4">removeRandomPart</a> ()</td></tr>
<tr class="separator:aef5d3db270848d3de8530a59353312a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23661e884436cbea6bc2d936eaf660a3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_gui_object_link.html">GuiObjectLink</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a23661e884436cbea6bc2d936eaf660a3">getPartGUIList</a> ()</td></tr>
<tr class="separator:a23661e884436cbea6bc2d936eaf660a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1261f6fee5cac27ae46d5306146c9a6c"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_part.html">Part</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a1261f6fee5cac27ae46d5306146c9a6c">getPartByUUID</a> (std::string uuid)</td></tr>
<tr class="separator:a1261f6fee5cac27ae46d5306146c9a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b3e1067038914dca48109e5e9c7ddc"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_part.html">Part</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a24b3e1067038914dca48109e5e9c7ddc">getPartByIID</a> (std::string iid)</td></tr>
<tr class="separator:a24b3e1067038914dca48109e5e9c7ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5438ad07de06d89c85714a5888fea492"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5438ad07de06d89c85714a5888fea492"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printBodyMap</b> (const char *filename, <a class="el" href="class_body_part.html">BodyPart</a> *mroot)</td></tr>
<tr class="separator:a5438ad07de06d89c85714a5888fea492"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a532eba0eb6a933d2a4f5f028e0db0da0"><td class="memTemplParams" colspan="2"><a class="anchor" id="a532eba0eb6a933d2a4f5f028e0db0da0"></a>
template&lt;class Archive &gt; </td></tr>
<tr class="memitem:a532eba0eb6a933d2a4f5f028e0db0da0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>serialize</b> (Archive &amp;ar, const unsigned int version)</td></tr>
<tr class="separator:a532eba0eb6a933d2a4f5f028e0db0da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a112d5b13dcd38ba6fde06fa090982e6c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a112d5b13dcd38ba6fde06fa090982e6c">loadBody</a> (const char *filename)</td></tr>
<tr class="separator:a112d5b13dcd38ba6fde06fa090982e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cdc62215a8995b8982e6d183bf30ef"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#ac1cdc62215a8995b8982e6d183bf30ef">enter</a> (rapidxml::xml_node&lt;&gt; *node, std::map&lt; string, string &gt; *child_map, std::map&lt; string, string &gt; *organ_link_map)</td></tr>
<tr class="separator:ac1cdc62215a8995b8982e6d183bf30ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7e4a9b37a5f58f2495ff695b8dbbee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#aaf7e4a9b37a5f58f2495ff695b8dbbee">makeIdMap</a> ()</td></tr>
<tr class="separator:aaf7e4a9b37a5f58f2495ff695b8dbbee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add724ec6251171cfa88b859bfbc7f443"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#add724ec6251171cfa88b859bfbc7f443">buildPartList</a> (std::vector&lt; <a class="el" href="struct_gui_object_link.html">GuiObjectLink</a> * &gt; *list, <a class="el" href="class_part.html">Part</a> *p, int depth=0)</td></tr>
<tr class="separator:add724ec6251171cfa88b859bfbc7f443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4280f807d5e0b631c7eed089b083f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#afd4280f807d5e0b631c7eed089b083f2">refreshLists</a> ()</td></tr>
<tr class="separator:afd4280f807d5e0b631c7eed089b083f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8221e0307acce06fb6aea863769f1d1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a8221e0307acce06fb6aea863769f1d1b">unregisterPart</a> (string uuid)</td></tr>
<tr class="separator:a8221e0307acce06fb6aea863769f1d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbf9e884cf95d851f7dfb77972ce515"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addbf9e884cf95d851f7dfb77972ce515"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unregisterParts</b> (std::vector&lt; string &gt; *uuids)</td></tr>
<tr class="separator:addbf9e884cf95d851f7dfb77972ce515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba1ea49309153166e26dbcaf1e9b3af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#acba1ea49309153166e26dbcaf1e9b3af">makeDownstreamPartList</a> (std::string part_uuid, std::vector&lt; string &gt; *child_list)</td></tr>
<tr class="separator:acba1ea49309153166e26dbcaf1e9b3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e42bc5508c816b64a9f5b056190fc3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7e42bc5508c816b64a9f5b056190fc3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createSubgraphs</b> (std::ofstream *stream, <a class="el" href="class_body_part.html">BodyPart</a> *bp)</td></tr>
<tr class="separator:aa7e42bc5508c816b64a9f5b056190fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53cd79ab7e465e8606bc117b7cd6a80c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53cd79ab7e465e8606bc117b7cd6a80c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createLinks</b> (std::ofstream *stream, <a class="el" href="class_body_part.html">BodyPart</a> *bp)</td></tr>
<tr class="separator:a53cd79ab7e465e8606bc117b7cd6a80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a12118e81d6f023566f8aa964b7a906e6"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_body_part.html">BodyPart</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a12118e81d6f023566f8aa964b7a906e6">root</a></td></tr>
<tr class="separator:a12118e81d6f023566f8aa964b7a906e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad806f0628dd0df5b30af09c4f57e1d74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad806f0628dd0df5b30af09c4f57e1d74"></a>
const TCODColor&#160;</td><td class="memItemRight" valign="bottom"><b>part_gui_list_color_bodypart</b> = TCODColor::azure</td></tr>
<tr class="separator:ad806f0628dd0df5b30af09c4f57e1d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac5a0ac81de32aba186cb005b215fad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ac5a0ac81de32aba186cb005b215fad"></a>
const TCODColor&#160;</td><td class="memItemRight" valign="bottom"><b>part_gui_list_color_organ</b> = TCODColor::darkRed</td></tr>
<tr class="separator:a1ac5a0ac81de32aba186cb005b215fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792b213d3ae5f54293aeb05231f954c3"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak" />
boost::shared_ptr&lt; <a class="el" href="class_tissue.html">Tissue</a> &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a792b213d3ae5f54293aeb05231f954c3">tissue_map</a></td></tr>
<tr class="separator:a792b213d3ae5f54293aeb05231f954c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad688c38975678f5eed81a8a71b1a4f38"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak" />
boost::shared_ptr&lt; <a class="el" href="class_part.html">Part</a> &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#ad688c38975678f5eed81a8a71b1a4f38">part_map</a></td></tr>
<tr class="separator:ad688c38975678f5eed81a8a71b1a4f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3852b219150ea17df1fbae330b57f6eb"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak" />
std::string &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a3852b219150ea17df1fbae330b57f6eb">iid_uuid_map</a></td></tr>
<tr class="separator:a3852b219150ea17df1fbae330b57f6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd1c39d8d1ccf241da4a0f9ac2199bf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_gui_object_link.html">GuiObjectLink</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_body.html#a4fd1c39d8d1ccf241da4a0f9ac2199bf">part_gui_list</a></td></tr>
<tr class="separator:a4fd1c39d8d1ccf241da4a0f9ac2199bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac98d07dd8f7b70e16ccb9a01abf56b9c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>boost::serialization::access</b></td></tr>
<tr class="separator:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The code representation of a body of an <a class="el" href="class_actor.html">Actor</a>. </p>
<p>This class represents the uppermost level of the body definition. It holds several maps that are necessary for code handling of <a class="el" href="class_actor.html">Actor</a> bodies, the two most important being the part_map and the tissue_map, which hold shared pointers to every <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> and <a class="el" href="class_tissue.html" title="Holds the definition of a tissue, such as skin or bone. ">Tissue</a> element that the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> is "composed" of. The shared pointers are shared with the Parts themselves (e.g., the child vector of the BodyParts holds some of the shared pointers (namely those pointing to it's children)). This means that the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> instance is effectively "managing" the Parts and Tissues that it is composed of. It also contains functions related to damage handling, loading and saving of body definitions. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2cda9c6f52963f15e85822bc2cbd4a1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Body::Body </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates a new instance of the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> class and loads and parses the body definition from a <a href="xml_help.html">body-definition XML</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The path to the <a href="xml_help.html">body-definition XML</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="add724ec6251171cfa88b859bfbc7f443"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Body::buildPartList </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="struct_gui_object_link.html">GuiObjectLink</a> * &gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_part.html">Part</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function recursively builds a list of <a class="el" href="struct_gui_object_link.html" title="A struct encapsulating an Objects UUID and a pointer to an associated ColoredText. ">GuiObjectLink</a> for all Parts of the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> - it links the UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to a <a class="el" href="class_colored_text.html" title="A class encapsulating a string and background and foreground color information. ">ColoredText</a> containing the name of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>. The text is colored corresponding to part_gui_list_color_bodypart or part_gui_list_color_organ.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">list</td><td>The vector to modify. </td></tr>
    <tr><td class="paramname">p</td><td>The <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to start from. </td></tr>
    <tr><td class="paramname">depth</td><td>This should be 0 on first call and is increased by the recursive calling of this function to correcly indent the texts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac1cdc62215a8995b8982e6d183bf30ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Body::enter </td>
          <td>(</td>
          <td class="paramtype">rapidxml::xml_node&lt;&gt; *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; string, string &gt; *&#160;</td>
          <td class="paramname"><em>child_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; string, string &gt; *&#160;</td>
          <td class="paramname"><em>organ_link_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the function that is recursively called on all nodes of the body definition XML. The node it is pointed at <em>must</em> be a '&lt;body_part&gt;' node. The function will create the <a class="el" href="class_body_part.html" title="The code representation of a part of the body (such as &#39;Left Arm&#39;). ">BodyPart</a> that is defined in that node and return its UUID.</p>
<p>If the node contains organ definitions, the function creates the <a class="el" href="class_organ.html" title="The &#39;leaves&#39; of the Body tree. ">Organ</a> objects, and adds an "link note" into a temporary map, which is used in the <a class="el" href="class_body.html#a112d5b13dcd38ba6fde06fa090982e6c">loadBody()</a> function to link the newly created Parts together.</p>
<p>If the node contains further '&lt;body_part&gt;' nodes, the function calls itself on all of them.</p>
<p>Please refer to the <a href="xml_help.html">body-definition XML help</a> or the source code for more information on the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> XML Parsing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The '&lt;body_part&gt;' XML node to parse. </td></tr>
    <tr><td class="paramname">child_map</td><td>A map of Parts to be linked as parent &lt;-&gt; child, the child UUID being the key and the parent UUID being the value. </td></tr>
    <tr><td class="paramname">organ_map</td><td>A map of Organs to be linked as connector &lt;-&gt; connectee, the connectee UUID being the key and the connector UUID being the value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The UUID of the <a class="el" href="class_body_part.html" title="The code representation of a part of the body (such as &#39;Left Arm&#39;). ">BodyPart</a> that is defined by node. </dd></dl>

</div>
</div>
<a class="anchor" id="a24b3e1067038914dca48109e5e9c7ddc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_part.html">Part</a> &gt; Body::getPartByIID </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>iid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns a shared pointer to the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> identified by the given IID, or a nullptr if the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> could not be found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>The IID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to get. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A shared pointer to the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>, or a nullptr. </dd></dl>

</div>
</div>
<a class="anchor" id="a1261f6fee5cac27ae46d5306146c9a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_part.html">Part</a> &gt; Body::getPartByUUID </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns a shared pointer to the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> identified by the given UUID, or a nullptr if the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> could not be found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>The UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to get. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A shared pointer to the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>, or a nullptr. </dd></dl>

</div>
</div>
<a class="anchor" id="a23661e884436cbea6bc2d936eaf660a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_gui_object_link.html">GuiObjectLink</a>*&gt;* Body::getPartGUIList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function returns the part_gui_list. </p>

</div>
</div>
<a class="anchor" id="ad9567776622f213ee69c13a94f72c4b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_body_part.html">BodyPart</a>&gt; Body::getRootBP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function returns a shared pointer to the root <a class="el" href="class_body_part.html" title="The code representation of a part of the body (such as &#39;Left Arm&#39;). ">BodyPart</a>. </p><dl class="section return"><dt>Returns</dt><dd>A shared pointer pointing at the root <a class="el" href="class_body_part.html" title="The code representation of a part of the body (such as &#39;Left Arm&#39;). ">BodyPart</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a112d5b13dcd38ba6fde06fa090982e6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Body::loadBody </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function loads and parses a <a href="xml_help.html">body-definition XML</a>. The library used for this is RapidXML. <b>The file must be null-terminated!</b></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The <em>null-terminated</em> file to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the UUID of the root bodypart. </dd></dl>

</div>
</div>
<a class="anchor" id="acba1ea49309153166e26dbcaf1e9b3af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Body::makeDownstreamPartList </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>part_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; string &gt; *&#160;</td>
          <td class="paramname"><em>child_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function iterates recursively through all Parts downstream of the given <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> and adds - for Organs - all connected_organs, - for BodyParts - all children to the given vector. The first call to this function should therefore modify the vector to contain all children of all parts downstream of the given <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>, identified by the given UUID. Note that this function will not check for duplicates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">part_uuid</td><td>The UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to list the children and children's children of. </td></tr>
    <tr><td class="paramname">child_list</td><td>A vector, which will be modified by this function to contain all children and children's children (...) of the given <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaf7e4a9b37a5f58f2495ff695b8dbbee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Body::makeIdMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function iterates through the given <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> map and creates a map whose keys are the internal id's and whose values are the UUID (the iid_uuid_map !) and refreshes iid_uuid_map. </p>

</div>
</div>
<a class="anchor" id="afd4280f807d5e0b631c7eed089b083f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Body::refreshLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function calls <a class="el" href="class_body.html#aaf7e4a9b37a5f58f2495ff695b8dbbee">makeIdMap()</a> and buildPartList(...) to refresh the iid_uuid_map and the part_gui_list to match the part_map. </p>

</div>
</div>
<a class="anchor" id="a18b5d3bd75fe06d7801db97b8ae7d283"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Body::removePart </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>part_uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function removes the a <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> of the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a>, identified by the given UUID. It also handles removal of all Parts downstream of that <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> and removal of now-empty Parts upstream of it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">part_uuid</td><td>The UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ef433b1d7299f8111b2d69cf00843ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Body::removeParts </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; string &gt; *&#160;</td>
          <td class="paramname"><em>part_uuids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function removes several parts one after another. For that purpose, it calls <a class="el" href="class_body.html#a18b5d3bd75fe06d7801db97b8ae7d283">removePart()</a> on all elements of the given vector of UUIDs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">part_uuids</td><td>A vector of UUIDs to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef5d3db270848d3de8530a59353312a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Body::removeRandomPart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function removes a random <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> of the <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a>. </p>

</div>
</div>
<a class="anchor" id="a8221e0307acce06fb6aea863769f1d1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Body::unregisterPart </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function removes an element from the part_map, identified by the given UUID. Due to the nature of the part_map (storing shared_pointers accessible by the UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> they point at), removal of the element will cause the destruction of the shared_pointer (because it should not be referenced anywhere else) and therefore, the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> it points at.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>The UUID of the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a> to unregister. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3852b219150ea17df1fbae330b57f6eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::string&gt;* Body::iid_uuid_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This map holds a list of all UUID's and all internal id's of all Parts (BodyParts and Organs) of a body. The key is the internal id, the value the UUID.</p>
<p>Because the parts are internally stored in the part_map map, whose values are pointers to the part objects and whose keys are the UUIDs of the parts, this map is needed to access parts by their internal id as defined the body-definition XML. </p>

</div>
</div>
<a class="anchor" id="a4fd1c39d8d1ccf241da4a0f9ac2199bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_gui_object_link.html">GuiObjectLink</a>*&gt;* Body::part_gui_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This list holds all Parts (BodyParts and Organs) of a body in a <a class="el" href="struct_gui_object_link.html" title="A struct encapsulating an Objects UUID and a pointer to an associated ColoredText. ">GuiObjectLink</a> format. The UUID stored is that of the part, the <a class="el" href="class_colored_text.html" title="A class encapsulating a string and background and foreground color information. ">ColoredText</a> is formatted to represent the "depth" of the part within the body structure. (See <a class="el" href="class_gui_body_viewer.html" title="A class representing a &quot;body inspector&quot;, which can display a bodies composition and state...">GuiBodyViewer</a> class for "usage") </p>

</div>
</div>
<a class="anchor" id="ad688c38975678f5eed81a8a71b1a4f38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, boost::shared_ptr&lt;<a class="el" href="class_part.html">Part</a>&gt; &gt;* Body::part_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This map holds a list of all Parts (BodyParts and Organs) of a body, the key being the UUID, and the value a shared pointer to the <a class="el" href="class_part.html" title="This class is the abstract superclass for all parts that make up a body. ">Part</a>. </p>

</div>
</div>
<a class="anchor" id="a12118e81d6f023566f8aa964b7a906e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_body_part.html">BodyPart</a>&gt; Body::root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This shared pointer points to the root <a class="el" href="class_body_part.html" title="The code representation of a part of the body (such as &#39;Left Arm&#39;). ">BodyPart</a> of the stored <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a>. It can be used for recursive iteration through the child lists of the "attached" bodyparts, for example. </p>

</div>
</div>
<a class="anchor" id="a792b213d3ae5f54293aeb05231f954c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, boost::shared_ptr&lt;<a class="el" href="class_tissue.html">Tissue</a>&gt; &gt;* Body::tissue_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This map holds a list of all <a class="el" href="class_tissue.html" title="Holds the definition of a tissue, such as skin or bone. ">Tissue</a> elements that are defined in the <a href="xml_help.html">body-definition XML</a> that was used to create this <a class="el" href="class_body.html" title="The code representation of a body of an Actor. ">Body</a> instance. The key is the UUID, the value a shared pointer to the <a class="el" href="class_tissue.html" title="Holds the definition of a tissue, such as skin or bone. ">Tissue</a> instance. This shared pointer is shared, for example, by the Organs in the part_map, who hold a list of shared pointers to the <a class="el" href="class_tissue.html" title="Holds the definition of a tissue, such as skin or bone. ">Tissue</a> elements that they are "composed" of. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_body_8hpp_source.html">Body.hpp</a></li>
<li>src/Body.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_body.html">Body</a></li>
    <li class="footer">Generated on Tue Aug 26 2014 03:47:07 for Rogue M.D. by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
